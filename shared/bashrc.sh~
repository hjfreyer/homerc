#!/bin/bash

export EDITOR="emacs -nw --no-init-file"

export PATH="$HOMERC/shared/bin/:$HOMERC/local/bin/:$PATH"

export HISTCONTROL=ignoredups
export HISTCONTROL=ignoreboth

# PS1
function hostname {
  echo $HOSTNAME | sed 's/\..*$//'
}

function workdir {
  d=$PWD
  d=$(echo $d | sed "s/^\/home\/${USER}/~/")

  echo $d
}

function local_ps1_suffix {
  true
}

function local_workdir {
  workdir
}

function ps1 {
  echo -n ${USER}
  echo -n '@$(hostname)'
  echo -n ':$(local_workdir)'
  echo -n '$(local_ps1_suffix)'
  echo -n '$ '
}

export PS1="$(ps1)"

function rsed {
  find -type f -exec sed -i "$@" {} +
}

# ALIAS
alias ls="ls --color"
alias ll="ls -l"
alias lla="ls -la"
alias cd="pushd"
alias pd="popd"

alias rebash="source ~/.bashrc"

alias gits="git status"
alias gitwipe="git reset --hard HEAD"
alias gcam="git commit -a -m 'commit'"

alias e=$EDITOR

source $HOMERC/local/bashrc.sh
